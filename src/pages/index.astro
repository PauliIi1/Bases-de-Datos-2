---
import { getCollection } from "astro:content";
import MainLayout from "../layouts/MainLayout.astro";
import siteConfig from "../site.config";
import { sortItemsByDateDesc, withBase } from "../utils/helpers";
import PostCardPreview from "../components/PostCardPreview.astro";
import Button from "../components/Button.astro";
import { Image } from "astro:assets";
import heroImage from "../assets/images/pixeltrue-space-discovery.svg";
import ArrowRight from "../icons/ArrowRight.astro";

const allPosts = (await getCollection("blogs")).sort(sortItemsByDateDesc);
---

<MainLayout
  activePage="home"
  pageTitle="Paula Buitrago | E-Portafolio"
>
  <div
    class="jumbo-banner flex flex-col sm:flex-row sm:items-center sm:justify-between w-full px-4 my-12 gap-6"
  >
    
    <div class="w-full sm:w-fit sm:max-w-1/2">

      <h1 class="sigmar-ff leading-tight text-balance sm:pt-0!">
        Paula Buitrago
      </h1>

      <img
  src={withBase("/foto.jpeg")}
  alt="Foto de Paula Buitrago"
  class="w-40 h-40 rounded-full mt-4 mb-4 object-cover shadow-lg"
/>


      <p class="kanit-regular text-balance text-xs sm:text-base">
        Bienvenido a mi e-portafolio. Soy Paula y aquí estaré mostrando
        mis proyectos, evidencias y avances del curso. ¡No te pierdas nada!
      </p>

    </div>

   
    <div class="w-full sm:w-fit sm:max-w-1/2">
      <Image
        class="cover-img"
        src={heroImage}
        alt="Astronauta en el espacio"
        width={400}
        height={300}
      />
    </div>

  </div>

  <!-- VIDEO  -->
  <div class="flex justify-center my-12 px-4">
    <iframe
      width="800"
      height="450"
      src="https://www.youtube.com/embed/XvI8aJPXiYA"
      title="Video de presentación"
      frameborder="0"
      allowfullscreen
      class="rounded-2xl shadow-lg"
    ></iframe>
  </div>

  <!-- SECCIÓN EVIDENCIAS -->
  <div class="page-content">
    <div id="posts" class="flex flex-col items-center justify-center w-full">
      <h2 class="sigmar-ff text-balance pt-0! pb-8!">EVIDENCIAS</h2>
      <div class="flex flex-col gap-8 max-w-full text-left">
        {
          allPosts
            .slice(0, siteConfig.recentPostLimit)
            .map((post) => <PostCardPreview post={post} />)
        }
      </div>

      <Button href={withBase("/blog")} class="space-btn-filled mt-8">
        Ver todas las evidencias
        <ArrowRight class="w-5 h-5 fill-current ml-4" />
      </Button>
    </div>
  </div>
</MainLayout>
